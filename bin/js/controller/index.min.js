!function i(a,s,l){function c(e,t){if(!s[e]){if(!a[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(u)return u(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var o=s[e]={exports:{}};a[e][0].call(o.exports,function(t){return c(a[e][1][t]||t)},o,o.exports,i,a,s,l)}return s[e].exports}for(var u="function"==typeof require&&require,t=0;t<l.length;t++)c(l[t]);return c}({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Module="common";var r=(o.prototype.sendPlayerData=function(){this.sendAllClients(this.playerData)},o.prototype.sendAllClients=function(t){this.airConsole.broadcast(t)},o);function o(){this.airConsole=new AirConsole,this.playerData=[]}n.Server=r;var i=(a.prototype.getPlayers=function(){var t=this;setInterval(function(){t.playerData=t.airconsole.getPlayerData()})},a.prototype.sendControllerData=function(t){t.id=this.id,this.airconsole.message(AirConsole.SCREEN,JSON.stringify(t))},a.prototype.recive=function(){this.playerData},a.prototype.subscribeToAirConsole=function(){this.onMessage()},a.prototype.onMessage=function(){this.airconsole.onMessage=function(t,e){e.filter()}},a);function a(){this.id=0,this.playerData=[],this.id||(this.id=this.airconsole.getDeviceId()),this.airconsole=new AirConsole,this.subscribeToAirConsole(),this.getPlayers()}n.Client=i;function s(t,e,n,r){this.x=t,this.y=e,this.type=l.PlayerData,this.playerState=h.idle,this.isAngryDad=!1,this.isReady=!1,this.id=0,this.id=n,this.isReady=r}var l,c,u;n.PlayerData=s,(c=l=n.TransactionType||(n.TransactionType={}))[c.ServerState=0]="ServerState",c[c.PlayerData=1]="PlayerData",c[c.ControllerData=2]="ControllerData",(u=n.ServerState||(n.ServerState={}))[u.joining=0]="joining",u[u.running=1]="running",u[u.final=2]="final";function d(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e,this.id=0}var h,y;n.ControllerData=d,(y=h=n.PlayerState||(n.PlayerState={}))[y.idle=0]="idle",y[y.dead=1]="dead",y[y.running=2]="running",y[y.interacting=3]="interacting"},{}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../common/index");function o(t){var e=this;this.client=t,this.startPos=void 0,document.addEventListener("DOMContentLoaded",function(){e.virtualController(),e.client.updateServerState(e.updateView)})}new(o.prototype.updateView=function(t){switch(t){case ser:}},o.prototype.virtualController=function(){var e=this;document.querySelectorAll("controller")[0].addEventListener("touchstart",function(t){console.log("touchstart"),e.startPos=[t.targetTouches[0].clientX,t.targetTouches[0].clientY]}),document.querySelectorAll("controller")[0].addEventListener("touchmove",function(t){void 0!==e.startPos&&e.client.sendControllerData(new r.ControllerData(t.targetTouches[0].clientX-e.startPos[0],t.targetTouches[0].clientY-e.startPos[1]))}),document.querySelectorAll("controller")[0].addEventListener("touchend",function(t){e.startPos=void 0})},o.prototype.splashscreen=function(){var r=this;document.querySelectorAll("splashscreen > button").forEach(function(t){var e=document.querySelectorAll("splashscreen > character")[0],n=r.client.toggleAngryDad();e.innerHTML=n?"You would like to be angry dad!":"You would like to be a wichtel!"});var e=setInterval(function(){var t=r.client.getTimeUntilStart();0===(document.querySelectorAll("splashscreen > time")[0].innerHTML=t)&&clearInterval(e)},1e3)},o)(new r.Client)},{"../common/index":1}]},{},[2]);
//# sourceMappingURL=index.min.js.map
