!function i(o,c,l){function s(t,e){if(!c[t]){if(!o[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(u)return u(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var a=c[t]={exports:{}};o[t][0].call(a.exports,function(e){return s(o[t][1][e]||e)},a,a.exports,i,o,c,l)}return c[t].exports}for(var u="function"==typeof require&&require,e=0;e<l.length;e++)s(l[e]);return s}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Module="common";function n(e,t,r,n){this.x=e,this.y=t,this.transactionType=a.PlayerData,this.playerState=s.idle,this.characterAppearanceType=h.wichtel1,this.isAngryDad=void 0,this.id=0,this.id=r}var a,i,o;r.PlayerData=n,(i=a=r.TransactionType||(r.TransactionType={}))[i.ServerData=0]="ServerData",i[i.PlayerData=1]="PlayerData",i[i.ControllerData=2]="ControllerData",i[i.ObjectData=3]="ObjectData",(o=r.ServerState||(r.ServerState={}))[o.initial=0]="initial",o[o.lobby=1]="lobby",o[o.characterSelection=2]="characterSelection",o[o.starting=3]="starting",o[o.running=4]="running",o[o.final=5]="final";function c(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=e,this.y=t,this.transactionType=a.ControllerData,this.id=0}r.ControllerData=c;function l(e){this.timerValueInSeconds=e}var s,u,h,d;r.ServerData=l,(u=s=r.PlayerState||(r.PlayerState={}))[u.idle=0]="idle",u[u.dead=1]="dead",u[u.running=2]="running",u[u.interacting=3]="interacting",(d=h=r.CharacterAppearanceType||(r.CharacterAppearanceType={}))[d.wichtel1=0]="wichtel1",d[d.wichtel2=1]="wichtel2",d[d.wichtel3=2]="wichtel3",d[d.wichtel4=3]="wichtel4";function p(e,t,r){void 0===e&&(e=0),void 0===t&&(t=0),this.x=e,this.y=t,this.id=r}r.ObjectData=p},{}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,a,i=e("../common/index");function o(e){var t=this;this.client=e,this.startPos=void 0,document.addEventListener("DOMContentLoaded",function(){t.virtualController(),t.client.updateServerState(t.updateView)})}(a=n=n||{})[a.splashscreen=0]="splashscreen",a[a.characterselection=1]="characterselection",a[a.playscreen=2]="playscreen",a[a.endscreen=3]="endscreen",new(o.prototype.showView=function(e){document.querySelectorAll(n[e])[0].classList.add("visible")},o.prototype.hideView=function(e){document.querySelectorAll(n[e])[0].classList.remove("visible")},o.prototype.updateView=function(e){switch(e){case i.ServerState.lobby:this.showView(n.splashscreen);break;case i.ServerState.characterSelection:this.showView(n.characterselection);break;case i.ServerState.running:this.showView(n.playscreen);break;case i.ServerState.final:this.showView(n.endscreen);break;default:console.error("not implemented",e)}},o.prototype.virtualController=function(){var t=this;document.querySelectorAll("controller")[0].addEventListener("touchstart",function(e){console.log("touchstart"),t.startPos=[e.targetTouches[0].clientX,e.targetTouches[0].clientY]}),document.querySelectorAll("controller")[0].addEventListener("touchmove",function(e){void 0!==t.startPos&&t.client.sendControllerData(new i.ControllerData(e.targetTouches[0].clientX-t.startPos[0],e.targetTouches[0].clientY-t.startPos[1]))}),document.querySelectorAll("controller")[0].addEventListener("touchend",function(e){t.startPos=void 0})},o.prototype.splashscreen=function(){var n=this;document.querySelectorAll("splashscreen > button").forEach(function(e){var t=document.querySelectorAll("splashscreen > character")[0],r=n.client.toggleAngryDad();t.innerHTML=r?"You would like to be angry dad!":"You would like to be a wichtel!"});var t=setInterval(function(){var e=n.client.getTime();0===(document.querySelectorAll("splashscreen > time")[0].innerHTML=e)&&clearInterval(t)},1e3)},o)(new i.Client)},{"../common/index":1}]},{},[2]);
//# sourceMappingURL=index.min.js.map
